\catcode`\_=12 % category other
\newcommand{\markersize}{6pt}
\begin{tikzpicture}
  \begin{axis}[
      axis equal image,
      axis line style = {draw = none},
      axis x line* = top,
      colorbar horizontal,
      colorbar style = {
          axis line style = {draw = none},
          height = 12pt,
          xlabel = {Pearson correlation coefficient},
          xtick style={draw = none}
        },
      colorbar,
      colormap/viridis,
      enlarge x limits = {abs = \markersize},
      enlarge y limits = {abs = \markersize},
      every tick label/.append style={font=\small},
      grid = minor,
      height = 4in,
      mark size = \markersize,
      only marks,
      point meta max=1,
      point meta min=0,
      scatter,
      scatter/use mapped color = {draw opacity = 0, fill = mapped color},
      symbolic x coords = {{day,hour,weekhour,wind_speed_max,wind_speed_avg,wind_direction,temperature,humidity,pressure,bikes,bikes_avg_full,bikes_avg_short,bikes_3h,bikes_3h_diff_avg_full,bikes_3h_diff_avg_short}},
      symbolic y coords = {{day,hour,weekhour,wind_speed_max,wind_speed_avg,wind_direction,temperature,humidity,pressure,bikes,bikes_avg_full,bikes_avg_short,bikes_3h,bikes_3h_diff_avg_full,bikes_3h_diff_avg_short}},
      width = 4in,
      x tick label style = {rotate = 90, anchor = west},
      x tick style = {draw = none},
      xtick = data,
      xticklabel = \texttt{\tick},
      y dir = reverse,
      y tick style = {draw = none},
      ytick = data,
      yticklabel = \texttt{\tick},
      mark = square*
    ]
    \addplot [
      point meta = explicit,
    ] table [
        col sep = comma,
        meta = value,
        x = x,
        y = y,
      ] {../more_bikes/analysis/csv/correlation.csv};
  \end{axis}
\end{tikzpicture}
\catcode`\_=8 % category subscript